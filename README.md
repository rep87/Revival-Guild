# Revival Guild

## 프로젝트 개요
- 다키스트 던전형 경영 로그라이크: 플레이어는 길드를 운영하고, 파티는 자동으로 던전을 탐험합니다.

## 빠른 시작
- GitHub Pages: [https://rep87.github.io/Revival-Guild/](https://rep87.github.io/Revival-Guild/)
- 로컬 미리보기: 저장소를 클론한 뒤 `index.html`을 브라우저로 열거나 간단한 정적 서버(`npx serve` 등)를 실행하세요.

## 조작법
- 용병 모집: 상단의 **용병 모집** 버튼을 눌러 후보를 확인하고 고용합니다.
- 퀘스트 수락: 던전 퀘스트 패널에서 원하는 퀘스트의 **수행하기**를 눌러 용병을 배치합니다.
- 턴 진행: **턴 진행** 버튼으로 시간 경과와 신규 퀘스트 생성을 처리합니다.
- 삭제: 완료되었거나 필요 없는 퀘스트는 카드 우측의 삭제 버튼으로 정리합니다.

## 탐험 성향
- 퀘스트 시작 전 `꼼꼼히 탐색` 또는 `기한 준수` 성향을 선택할 수 있습니다.
- **꼼꼼히 탐색**: 보너스 골드 발견 확률이 높지만 기한 초과 위험과 평판 페널티가 늘어납니다.
- **기한 준수**: 기한을 지킬 확률이 높지만 추가 보상은 낮습니다.
- 성향은 저장되며 진행 중인 탐험의 이벤트 로그, 보너스 골드, 평판 증감량(성향 계수 적용)에 반영됩니다.

## 탐험 시각화
- 진행 중인 퀘스트 카드 하단에 진행바와 파티 토큰(●)이 표시되어 턴마다 이동합니다.
- 최근 탐험 로그 1~2줄과 누적 보너스 골드를 확인할 수 있습니다.
- 변경 사항이 보이지 않을 경우 하드 리로드로 캐시를 갱신하세요.
  - Windows/Linux: <kbd>Ctrl</kbd>+<kbd>F5</kbd> 또는 <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>R</kbd>
  - macOS: <kbd>⌘</kbd>+<kbd>Shift</kbd>+<kbd>R</kbd>

## 확률 기반 입찰 시스템
- 기존 최저가 선착순 대신 **Softmax 기반 확률 입찰**을 도입했습니다.
- 퀘스트 중요도(`gold`/`reputation`/`stats`)에 따라 입찰가·능력치·평판 가중치가 달라집니다.
- 경쟁 길드의 평판(`rival.rep`)과 우리 길드 평판의 비율이 낙찰 확률에 반영됩니다.
- 기본 보상 대비 과다 입찰(2~4배 이상)을 시도할수록 낙찰 가중치가 급격히 줄어듭니다.
- URL 뒤에 `?debug=1`을 붙이면 [수행하기] 모달 내부에서만 `Player 42% / ...` 형태의 디버그 확률을 확인할 수 있습니다.

## 라이벌 정보 가시성
- 길드 본부 레벨(Stub)마다 라이벌 입찰 정보가 단계적으로 공개됩니다.
  - **Lv.1**: 라이벌 섹션이 `???`로 표시됩니다.
  - **Lv.2**: 범위/히트맵형 힌트만 노출됩니다.
  - **Lv.3**: 실제 입찰가와 낙찰 확률이 정확히 표시됩니다.
- 현재 프로토타입은 Lv.1 고정이며, UI 분기만 구현되어 있습니다.

## 창고 & 재화 드롭
- 퀘스트 완료 시 15% 확률로 재화 아이템이 드롭되며, **창고 → 재화** 탭에서 확인할 수 있습니다.
- 드롭은 모두 재화형 아이템으로만 생성되며, **판매** 버튼으로 즉시 골드화할 수 있습니다.
- 장비/퀘소 탭은 향후 확장을 위해 비어 있으며, **착용** 버튼은 비활성 상태로 남겨두었습니다.
- 드롭·판매 내역은 자동으로 저장되며, 기존 세이브 데이터와도 호환됩니다.

## 레이아웃 & 배경 연출
- 화면이 중앙 집중형에서 **사이드 도킹형 패널** 구조로 변경되어 배경이 더 넓게 드러납니다.
- 상단에는 `용병 | 퀘스트 | 창고` 탭이 추가되어 주요 패널을 빠르게 전환할 수 있습니다.
- 전체 배경 위에 라디얼 스크림과 반투명 패널이 적용되어 게임 보드 느낌을 살렸습니다.
- 헤더의 **배경 강조** 버튼을 누르면 패널 투명도가 낮아져 배경 일러스트를 감상할 수 있습니다.

## 시간 시스템
- 1턴 = 1개월이며 `CONFIG.START_YEAR`, `CONFIG.START_MONTH`를 기준으로 진행됩니다.
- 상단 바에 `길드력 YY년 MM월`이 표시되어 현재 월을 즉시 파악할 수 있습니다.

## 보드 공정식 박스
- 화면 오른쪽 하단의 📌 버튼을 눌러 경제·평판·낙찰 계산식을 펼쳐볼 수 있습니다.
- 버튼 상태는 토글되며, 디버깅 시 참고용 공식이 작은 글씨로 정리되어 있습니다.

## 저장 및 초기화
- 모든 진행 상황은 `localStorage`의 `rg_v1_save` 키에 저장됩니다.
- 저장 데이터에는 길드 평판, 경쟁 길드 평판, 퀘스트 중요도·성향·진행도·보너스 골드·낙찰 확률까지 포함됩니다.
- 상단 메뉴의 **새로 시작** 버튼으로 저장 데이터를 초기화하고 새 게임을 시작할 수 있습니다.
- 하드 리로드로도 초기화 가능합니다.
  - Windows/Linux: <kbd>Ctrl</kbd>+<kbd>F5</kbd> 또는 <kbd>Ctrl</kbd>+<kbd>Shift</kbd>+<kbd>R</kbd>
  - macOS: <kbd>⌘</kbd>+<kbd>Shift</kbd>+<kbd>R</kbd>

## 아트 에셋 가이드
- 모든 이미지는 `assets/` 하위 경로 규칙을 따릅니다. 예) 배경 `assets/bg/`, 용병 초상 `assets/mercs/{id}.jpg`, 던전 썸네일 `assets/monsters/`.
- 해당 경로에 파일이 없으면 UI에서 플레이스홀더 이미지와 안내 문구가 표시됩니다.

## 로드맵 요약
- Phase-2.1 이후 예정: 라이벌 밸런싱 조정, 던전 미니 리포트 및 탐험 애니메이션 추가.
